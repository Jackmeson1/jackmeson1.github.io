<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600">
  <defs>
    <linearGradient id="mmGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#8b5cf6;stop-opacity:0.8"/>
      <stop offset="100%" style="stop-color:#6366f1;stop-opacity:0.6"/>
    </linearGradient>
    <marker id="arrowBuy" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0,0 0,6 10,3" fill="#10b981"/>
    </marker>
    <marker id="arrowSell" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0,0 0,6 10,3" fill="#ef4444"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="900" height="600" fill="#0f1419"/>

  <!-- Title -->
  <text x="450" y="40" fill="#f3f4f6" font-size="26" font-weight="bold" text-anchor="middle">Market Maker Hedging Mechanics</text>
  <text x="450" y="68" fill="#9ca3af" font-size="14" text-anchor="middle">The feedback loop that creates "walls"</text>

  <!-- Central MM box -->
  <rect x="350" y="250" width="200" height="100" fill="url(#mmGrad)" stroke="#8b5cf6" stroke-width="3" rx="10"/>
  <text x="450" y="285" fill="#fff" font-size="18" font-weight="bold" text-anchor="middle">MARKET MAKER</text>
  <text x="450" y="310" fill="#e9d5ff" font-size="13" text-anchor="middle">Position:</text>
  <text x="450" y="330" fill="#fecaca" font-size="15" font-weight="bold" text-anchor="middle">Short 10,000 Calls</text>

  <!-- Top left: Customer buys -->
  <g transform="translate(150, 120)">
    <rect x="-80" y="-40" width="160" height="80" fill="#1f2937" stroke="#10b981" stroke-width="2" rx="8"/>
    <text x="0" y="-10" fill="#10b981" font-size="14" font-weight="bold" text-anchor="middle">Customers</text>
    <text x="0" y="10" fill="#34d399" font-size="12" text-anchor="middle">Buy Calls</text>
    <text x="0" y="28" fill="#6ee7b7" font-size="11" text-anchor="middle">(bullish bet)</text>

    <!-- Arrow to MM -->
    <path d="M 80,0 L 320,230" stroke="#10b981" stroke-width="3" marker-end="url(#arrowBuy)"/>
    <text x="200" y="120" fill="#10b981" font-size="11" transform="rotate(-50 200 120)">Sell calls to customer</text>
  </g>

  <!-- Top right: Price rises -->
  <g transform="translate(750, 120)">
    <rect x="-80" y="-40" width="160" height="80" fill="#1f2937" stroke="#3b82f6" stroke-width="2" rx="8"/>
    <text x="0" y="-10" fill="#3b82f6" font-size="14" font-weight="bold" text-anchor="middle">MARKET</text>
    <text x="0" y="10" fill="#60a5fa" font-size="12" text-anchor="middle">Price Rises</text>
    <text x="0" y="28" fill="#93c5fd" font-size="11" text-anchor="middle">$450 → $460</text>

    <!-- Arrow to MM -->
    <path d="M -80,0 L -300,230" stroke="#3b82f6" stroke-width="3" marker-end="url(#arrowBuy)"/>
    <text x="-190" y="120" fill="#3b82f6" font-size="11" transform="rotate(50 -190 120)">Delta increases</text>
  </g>

  <!-- Bottom: MM hedges -->
  <g transform="translate(450, 420)">
    <rect x="-120" y="0" width="240" height="100" fill="#1f2937" stroke="#fbbf24" stroke-width="3" rx="8"/>
    <text x="0" y="30" fill="#fbbf24" font-size="15" font-weight="bold" text-anchor="middle">MM Hedging Action</text>
    <text x="0" y="55" fill="#d1d5db" font-size="12" text-anchor="middle">Delta: 0.50 → 0.60</text>
    <text x="0" y="75" fill="#10b981" font-size="14" font-weight="bold" text-anchor="middle">BUY +10,000 shares</text>

    <!-- Arrow down to market impact -->
    <path d="M 0,115 L 0,145" stroke="#f97316" stroke-width="3" marker-end="url(#arrowSell)"/>
  </g>

  <!-- Final impact -->
  <rect x="300" y="550" width="300" height="45" fill="#7c3aed" opacity="0.3" stroke="#8b5cf6" stroke-width="2" rx="8"/>
  <text x="450" y="577" fill="#f3f4f6" font-size="13" font-weight="bold" text-anchor="middle">→ Buying pressure stabilizes price near strike</text>

  <!-- Side annotations -->
  <g opacity="0.8">
    <!-- Left annotation -->
    <rect x="20" y="350" width="180" height="90" fill="#1f2937" stroke="#10b981" stroke-width="2" rx="5"/>
    <text x="110" y="375" fill="#10b981" font-size="12" font-weight="bold" text-anchor="middle">Why MM Sells:</text>
    <text x="30" y="395" fill="#d1d5db" font-size="10">• Provides liquidity</text>
    <text x="30" y="410" fill="#d1d5db" font-size="10">• Earns bid-ask spread</text>
    <text x="30" y="425" fill="#34d399" font-size="10" font-weight="bold">• Must hedge risk</text>

    <!-- Right annotation -->
    <rect x="700" y="350" width="180" height="90" fill="#1f2937" stroke="#ef4444" stroke-width="2" rx="5"/>
    <text x="790" y="375" fill="#ef4444" font-size="12" font-weight="bold" text-anchor="middle">Hedging Loop:</text>
    <text x="710" y="395" fill="#d1d5db" font-size="10">• Price ↑ → Buy shares</text>
    <text x="710" y="410" fill="#d1d5db" font-size="10">• Price ↓ → Sell shares</text>
    <text x="710" y="425" fill="#fca5a5" font-size="10" font-weight="bold">• Creates "wall" effect</text>
  </g>

  <!-- Arrows definition -->
  <defs>
    <marker id="arrowDown" markerWidth="10" markerHeight="10" refX="5" refY="9" orient="auto">
      <polygon points="0,0 10,0 5,10" fill="#f97316"/>
    </marker>
  </defs>
</svg>
